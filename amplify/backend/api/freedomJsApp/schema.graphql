type Location @aws_api_key @aws_cognito_user_pools{
    lat: Float
    lon: Float
}
input LocationInput {
    lat: Float
    lon: Float
}
type DateRange {
    start: AWSDate
    end: AWSDate
}

enum LocationType {
    event
    publicArt
}
enum PublicArtType {
    mural
    sculpture
}

enum EventType {
    music
    advocacy
    sports
    education
    family
}

type PublicArt @model @searchable @aws_api_key @aws_cognito_user_pools{
    id: ID!
    location: Location!
    name: String!
    description: String
    type: PublicArtType!

    # TODO: need ids...?
    photos: [AWSURL] 

    # Some public art is up for a limited time.
    permanent: Boolean!
    date_range: DateRange
}

type Event @model @searchable @aws_api_key @aws_cognito_user_pools {
    id: ID!
    location: Location!
    name: String!
    description: String!
    type: [EventType]
    host: String
    website: AWSURL
    photos: [AWSURL]
    datetime: AWSDateTime!
    location_description: String
}

type Reported @model {
    id: ID
    art_id: ID! # TODO: should be 'location_id'
    # type: LocationType! TODO: add this
    reason: String!
    reason_continued: String
}

type Mutation {
    addPhoto(location_id: String!, url:AWSURL!): PublicArt
}

type Query @aws_api_key{
	getPublicArtWithinBoundingBox(
		top_right_gps: LocationInput!,
		bottom_left_gps: LocationInput!,
		limit: Int,
        permanent: Boolean!,
		type: PublicArtType
	): [PublicArt]

    getEventWithinBoundingBox(
        top_right_gps: LocationInput!,
        bottom_left_gps: LocationInput!,

        # start_date: AWSDate!,
        # start_time: AWSTime!,
        # end_date: AWSDate!,
        # end_time: AWSTime!,

        limit: Int,
    ): [Event]

    whoAmI: String
}